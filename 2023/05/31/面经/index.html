<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>面经 | Khaz's Blog</title><meta name="author" content="Khaz"><meta name="copyright" content="Khaz"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="渗透测试 在渗透过程中，收集目标站注册人邮箱对我们有什么价值？  (1)丢社工库里看看有没有泄露密码，然后尝试用泄露的密码进行登录后台 (2)用邮箱做关键词进行丢进搜索引擎 (3)利用搜索到的关联信息找出其他邮箱进而得到常用社交账号 (4)社工找出社交账号，里面或许会找出管理员设置密码的习惯 (5)利用已有信息生成专用字典 (6)观察管理员常逛哪些非大众性网站，拿下它，你会得到更多好东西  信息收">
<meta property="og:type" content="article">
<meta property="og:title" content="面经">
<meta property="og:url" content="http://fgtbnc.github.io/2023/05/31/%E9%9D%A2%E7%BB%8F/index.html">
<meta property="og:site_name" content="Khaz&#39;s Blog">
<meta property="og:description" content="渗透测试 在渗透过程中，收集目标站注册人邮箱对我们有什么价值？  (1)丢社工库里看看有没有泄露密码，然后尝试用泄露的密码进行登录后台 (2)用邮箱做关键词进行丢进搜索引擎 (3)利用搜索到的关联信息找出其他邮箱进而得到常用社交账号 (4)社工找出社交账号，里面或许会找出管理员设置密码的习惯 (5)利用已有信息生成专用字典 (6)观察管理员常逛哪些非大众性网站，拿下它，你会得到更多好东西  信息收">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://fgtbnc.github.io/images/wallhaven-r29l9q.jpg">
<meta property="article:published_time" content="2023-05-31T11:52:40.000Z">
<meta property="article:modified_time" content="2023-06-16T09:12:55.603Z">
<meta property="article:author" content="Khaz">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://fgtbnc.github.io/images/wallhaven-r29l9q.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://fgtbnc.github.io/2023/05/31/%E9%9D%A2%E7%BB%8F/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":250},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":200,"languages":{"author":"作者: Khaz","link":"链接: ","source":"来源: Khaz's Blog","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '面经',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-06-16 17:12:55'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom/beauty.css" media="defer" onload="this.media='all'"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://raw.githubusercontent.com/Khazing/typora-img/main/16870577801892f4a9c5aac2e9e5422a6ccd26db10dd88c73.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">68</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Khaz's Blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">面经</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-05-31T11:52:40.000Z" title="发表于 2023-05-31 19:52:40">2023-05-31</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-06-16T09:12:55.603Z" title="更新于 2023-06-16 17:12:55">2023-06-16</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E9%9D%A2%E8%AF%95/">面试</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>12分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="面经"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><article class="post-content" id="article-container"><h2 id="渗透测试"><a href="#渗透测试" class="headerlink" title="渗透测试"></a>渗透测试</h2><ul>
<li>在渗透过程中，收集目标站注册人邮箱对我们有什么价值？</li>
</ul>
<p>(1)丢社工库里看看有没有泄露密码，然后尝试用泄露的密码进行登录后台</p>
<p>(2)用邮箱做关键词进行丢进搜索引擎</p>
<p>(3)利用搜索到的关联信息找出其他邮箱进而得到常用社交账号</p>
<p>(4)社工找出社交账号，里面或许会找出管理员设置密码的习惯</p>
<p>(5)利用已有信息生成专用字典</p>
<p>(6)观察管理员常逛哪些非大众性网站，拿下它，你会得到更多好东西</p>
<ul>
<li><p>信息收集如何处理子域名爆破的泛解析问题？</p>
<p><img src="/../images/image-20230616165230965.png" alt="image-20230616165230965"></p>
</li>
<li><p>如何绕过CDN找到真实IP，请列举五种方法 (★★★)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">国外ping，因为大多数企业不会在国外搭设CDN</span><br><span class="line">DNS解析记录，可以找未搭设CDN时的ip</span><br><span class="line">二级域名法，因为可能只给主站搭设了CDN</span><br><span class="line">历史域名法，不使用的旧域名通常不会有CDN，并且没有过期的话就可以</span><br><span class="line">邮箱法，邮箱服务器真实ip</span><br></pre></td></tr></table></figure>
</li>
<li><p>redis未授权访问如何利用，利用的前提条件是? (★★★)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">绝对路径写入webshell</span><br><span class="line">ssh公钥：需要存在.ssh目录</span><br><span class="line">crontab定时任务：低版本redis（才会是root权限），系统为Centos（因为redis写文件644，ubuntu要执行定时任务必须600）</span><br><span class="line"></span><br><span class="line">主从复制：是指将一台Redis服务器的数据，复制到其他的Redis服务器。前者称为主节点(master)，后者称为从节点(slave)；数据的复制是单向的，只能由主节点到从节点。</span><br><span class="line">通过同步功能，将恶意os文件复制到从节点达到RCE</span><br></pre></td></tr></table></figure>
</li>
<li><p>mysql提权方式有哪些?利用条件是什么? (★)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mof : windows server 2003 mof脚本被系统定时执行，写入恶意vbs脚本</span><br><span class="line">udf ： 用户自定义函数，导入恶意dll从而RCE</span><br><span class="line">Mysql版本大于5.1版本udf.dll文件必须放置于MYSQL安装目录下的lib\plugin文件夹下。</span><br><span class="line">Mysql版本小于5.1版本。udf.dll文件在Windows2003下放置于c:\windows\system32，在windows2000下放置于c:\winnt\system32。</span><br><span class="line"></span><br><span class="line">启动项提权</span><br><span class="line">反弹shell</span><br></pre></td></tr></table></figure>
</li>
<li><p>windows+mysql，存在sql注入，但是机器无外网权限，可以利用吗? (★)</p>
</li>
<li><p>常用的信息收集手段有哪些，除去<code>路径扫描</code>，<code>子域名爆破</code>等常见手段，有什么猥琐的方法收集企业信息? (★★)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">见渗透测试流程</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>SRC挖掘</code>与<code>渗透测试</code>的区别是什么，针对这两个不同的目标，实施过程中会有什么区别 (★★)</p>
<p><img src="/../images/image-20230404125508806-1686810531409.png" alt="image-20230404125508806"></p>
</li>
<li><p>存储xss在纯内网的环境中，可以怎么利用？(★★)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">xss本质上是任意js代码执行，xss可以修改网站页面，甚至可以扫描端口，如果你也在内网，可以嗅探密码等等。</span><br></pre></td></tr></table></figure>
</li>
<li><p>mssql中，假设为sa权限，如何不通过<code>xp_cmdshell</code>执行系统命令 (★★)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sp_oacreate</span><br><span class="line">CLR</span><br></pre></td></tr></table></figure>
</li>
<li><p>假设某网站存在waf，不考虑正面绕过的前提下，应该如何绕过(分情况讨论 云waf&#x2F;物理waf) (★)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">云waf，绕过域名解析，找到真实ip；</span><br><span class="line"></span><br><span class="line">物理waf，前后端解析不一致如编码绕过，多数据来源绕过，参数污染，http协议绕过如分块传输.畸形请求方式，长连接，chrest编码，waf性能如脏数据，高并发，waf机制如白名单绕过，静态文件绕过</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="Web安全相关"><a href="#Web安全相关" class="headerlink" title="Web安全相关"></a>Web安全相关</h2><ul>
<li><p>介绍一下自认为有趣的挖洞经历（或CTF经历）(★★★)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ssrf+redis</span><br><span class="line"></span><br><span class="line">打开网站是一个翻译界面，url过滤不充分，dict,file等协议都过滤了，但是没有过滤http协议。直接用burp的intruder模块爆破以下，发现有一个主机存活，然后再对这个主机进行端口扫描，6379端口开放。redis服务需要认证，爆破脚本，需要先了解redis的通信协议，将数据包构造成redis能理解的协议。</span><br><span class="line"></span><br><span class="line">php session反序列化，通过切换php session序列化模式，从而导致反序列化getshell</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">src</span><br><span class="line"></span><br><span class="line">先信息收集，用fofa的证书语法cert搜索到网站，是一个商城系统，然后测试了一下搜索框，加入引号，发现出现了报错，然后想用xpath函数来进行注入，发现函数被过滤了，看那个网站回显应该是安全狗，然后fuzz了一下，发现不能出现括号还有select from连用，用内联注释，插入脏字符和换行+注释绕过了，就写了个tamper脚本开跑。然后收集了信息，发现这个是网站和数据库都在一个服务器上，并且sec_file_rev为空，所以就可以尝试写shell，但是不知道网站的绝对路径，通过读取apache的配置文件得到了网站的绝对路径，就可以写入了，到这就没有继续测试了。</span><br></pre></td></tr></table></figure>
</li>
<li><p>CSRF的成因及防御措施（不用token如何解决) (★)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">成因：web应用程序在用户进行敏感操作时，没有进行身份验证</span><br><span class="line">防御措施：</span><br><span class="line">- 设置Token</span><br><span class="line">- 检验 referer来源</span><br><span class="line">- 加入验证码等</span><br></pre></td></tr></table></figure>
</li>
<li><p>CSRF漏洞中jsonp跟cors的跨域区别？</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">jsonp只支持get方式的跨域方式</span><br><span class="line">cors支持get和post请求方式</span><br></pre></td></tr></table></figure>
</li>
<li><p>SSRF的成因及防御措施 (★★)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">成因：对于请求的url没有进行严格的过滤和限制 ,导致攻击者可以构造恶意的url </span><br><span class="line">防御措施：禁止跳转，对远程服务器的响应做严格的过滤和限制，白名单：请求的ip地址和端口</span><br></pre></td></tr></table></figure>
</li>
<li><p>SSRF如何探测非HTTP协议(★)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">可以使用gopher，dict，curl，file等协议</span><br></pre></td></tr></table></figure>
</li>
<li><p>简述一下SSRF的绕过手法(★★)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">请求的url上</span><br><span class="line">-127.0.0.1变形</span><br><span class="line">-字符欺骗</span><br><span class="line">-DNSRebind</span><br><span class="line">-@#绕过，url解析</span><br></pre></td></tr></table></figure>
</li>
<li><p>简述一下SSRF中DNSRebind的绕过原理及修复方法(★)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">域名解析的a记录有两个，就可以解析到127.0.0.1</span><br><span class="line"></span><br><span class="line">修复方法：</span><br><span class="line">配置本地DNS服务器，避免使用公共DNS服务器</span><br><span class="line">增强认证授权机制,访问时需要其他认证</span><br></pre></td></tr></table></figure>
</li>
<li><p>介绍 SQL 注入漏洞成因，如何防范？注入方式有哪些？除了拖取数据库数据，利用方式还有哪些？(★★)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">成因：服务器将用户提交的参数错误地拼接到sql语句中，打破了数据区域的边界（数字型不需要）改变了原有的sql执行逻辑，导致攻击者可以执行恶意的sql语句。</span><br><span class="line"></span><br><span class="line">防范：预编译（加了单引号，字段名→字符串）+白名单</span><br><span class="line"></span><br><span class="line">注入方式：联合，报错，堆叠，时间盲注，布尔盲注，order by</span><br><span class="line"></span><br><span class="line">其他：</span><br><span class="line">读写文件 （变量值，物理路径，权限）</span><br><span class="line"></span><br><span class="line">日志getshell</span><br><span class="line"></span><br><span class="line">数据库提权：</span><br><span class="line">mysql-UOF,UDF </span><br><span class="line">sqlserver:XP_CMDSHELL,sp_oacreate</span><br><span class="line"></span><br><span class="line">cilent端任意文件读取（对方有数据库外连）</span><br><span class="line"></span><br><span class="line">dns外带</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何通过sql注入写shell,写shell的前提条件是什么?(★★)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">写文件：</span><br><span class="line">selct &quot;shell&quot;  into  outfile  &quot;绝对路径&quot;；</span><br><span class="line">sqlmap:</span><br><span class="line">sqlmap -u &quot;http://x.x.x.x/?id=x&quot; --file-write=&quot;/Users/guang/Desktop/shell.php&quot; --file-dest=&quot;/var/www/html/test/shell.php&quot;</span><br><span class="line"></span><br><span class="line">日志getshell</span><br><span class="line"></span><br><span class="line">前提条件：</span><br><span class="line">知道网站物理路径</span><br><span class="line">高权限数据库用户</span><br><span class="line">secure_file_priv 为空</span><br></pre></td></tr></table></figure>
</li>
<li><p>介绍一下XSS漏洞的种类，dom型XSS和反射XSS的区别是什么?(★★)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">反射型，存储型，dom型</span><br><span class="line">dom型与后端无关只经过前端，反射型需要和后端交互</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何防范 XSS 漏洞，在前端如何做，在后端如何做，哪里更好，为什么？(★★)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">html实体转义</span><br></pre></td></tr></table></figure>
</li>
<li><p>讲述一下找回密码可能涉及的逻辑漏洞(★)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">可以重置任意用户密码</span><br></pre></td></tr></table></figure>
</li>
<li><p>假设你是甲方的一名安全工程师，应该如何降低逻辑漏洞的出现率?(★★)</p>
</li>
<li><p>oauth认证过程中可能会出现什么问题，导致什么样的漏洞?(★)</p>
</li>
<li><p>CSP应该如何使用及配置，有哪些绕过CSP的方式(★★)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">  </span><br></pre></td></tr></table></figure>
</li>
<li><p>已知某网站存在LFI(本地文件包含)，但是无法上传任何文件，针对该情况有哪些利用方式?(★★)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">日志包含</span><br><span class="line">cve-phpmyadmin，包含数据库文件</span><br><span class="line">php-session文件/临时文件包含（条件竞争）</span><br><span class="line">docker-pearcmd.php 写🐎</span><br></pre></td></tr></table></figure>
</li>
<li><p>简述一下XXE漏洞产生的原理，针对PHP和JAVA，XXE分别可以进行哪些恶意利用?(★★)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">引入外部恶意实体，支持如下协议</span><br></pre></td></tr></table></figure>

<p><img src="/../images/image-20230506225044953-1686810531410.png" alt="image-20230506225044953"></p>
</li>
</ul>
<h2 id="PHP安全"><a href="#PHP安全" class="headerlink" title="PHP安全"></a>PHP安全</h2><ul>
<li><p>PHP中如何使用<code>phar://</code>伪协议触发反序列化，利用场景以及前提条件有哪些?(★★)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">文件操作函数触发</span><br><span class="line">前提条件：目标开启phar扩展,存在危险的类和方法</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何绕过<code>php.ini</code>中<code>disable_function</code>的限制，有哪些方法，其中成功率最高的方法是哪个，为什么?(★★★)</p>
<p><a target="_blank" rel="noopener" href="https://www.freebuf.com/articles/network/263540.html">https://www.freebuf.com/articles/network/263540.html</a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">webshell管理工具都自带了绕过disable_function的功能</span><br></pre></td></tr></table></figure>
</li>
<li><p>文件上传中<code>%00</code>截断的原理是什么，官方是如何设计修复方案的?(★★)</p>
<p><img src="/../images/image-20230615144441227.png" alt="image-20230615144441227"></p>
<p><img src="/../images/image-20230615144248486.png" alt="image-20230615144248486"></p>
</li>
<li><p>实现一个一句话webshell，绕过RASP的方式有哪些，绕过机器学习检测的方式有哪些，绕过AST-Tree的方式有哪些(★★)</p>
</li>
<li><p>PHP伪协议的攻击场景有哪些？(★★)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">文件包含：读取源码</span><br><span class="line">phar反序列化</span><br><span class="line">使用filter过滤器构造webshell</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>mail</code>函数的攻击面有哪些?(★)</p>
</li>
<li><p>如何不通过数字以及字符构造webshell，其原理是什么，此类特性还会造成什么安全问题?(★)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">php特性，支持字母自增</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="JAVA安全"><a href="#JAVA安全" class="headerlink" title="JAVA安全"></a>JAVA安全</h2><ul>
<li><p><code>ClassLoader</code>是什么? 加载自定义<code>ClassLoader</code>的前提是什么? (★)</p>
</li>
<li><p>大概讲一下<code>CommonCollections1</code>的利用链，该利用链有什么样的限制? (★★)</p>
</li>
<li><p>fastjson的反序列化和原生反序列化漏洞的区别是什么? (★★)</p>
<p><img src="/../images/image-20230615145147923.png" alt="image-20230615145147923"></p>
</li>
<li><p>在tomcat中实现内存马有哪些方式，有办法实现重启之后依然不会消失的内存马吗? (★)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">listen</span><br><span class="line">filter</span><br><span class="line">servlet</span><br></pre></td></tr></table></figure>
</li>
<li><p>单向代码执行链如何实现执行多条语句，如<code>CommonCollections1</code> (★)</p>
</li>
<li><p>请简单讲述一下Shiro反序列化漏洞的原理，无法使用ysoerial中common-collections利用链的原因是什么? (★)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">shiro框架提供了一个remember me的功能，会对cookie中的remember me的值进行base64解码，aes解密，反序列化  只要能找到aes的密钥就可以构造恶意序列化内容。550密钥硬编码，721用于加密rememberMe Cookie的算法AES-128-CBC存在缺陷 ，攻击者可以通过Padding Oracle 构造出任意序列化数据的有效密文，从而实施反序列化攻击。</span><br><span class="line"></span><br><span class="line">利用链限制</span><br><span class="line">https://paper.seebug.org/1285/#_4</span><br></pre></td></tr></table></figure>
</li>
<li><p>冰蝎当中通过Java联动<code>Cobalt Strike</code>上线的原理是什么? (★)</p>
</li>
<li><p><code>serialVersionUID</code> 在反序列化中的作用是什么? (★)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Java的序列化机制是通过在运行时判断类的serialVersionUID来验证版本一致性的。在进行反序列化时，JVM会把传来的字节流中的serialVersionUID与本地相应实体（类）的serialVersionUID进行比较，如果相同就认为是一致的，可以进行反序列化，否则就会出现序列化版本不一致的异常。 </span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="Linux相关"><a href="#Linux相关" class="headerlink" title="Linux相关"></a>Linux相关</h2><ul>
<li>简述一下守护进程的概念，如何生成一个守护进程? (★)</li>
<li>Linux 服务器的安全运维操作有哪些？如何保护 SSH？(★★)</li>
<li>入侵 Linux 服务器后需要清除哪些日志？(★★)</li>
<li>反弹 shell 的常用命令？一般常反弹哪一种 shell？为什么？(★★★)</li>
<li>从主机的层面，反弹shell如何监控 (★★★)</li>
<li>Rootkit的种类有哪些，针对不同种类的Rootkit应该如何防护以及检测 (★★)</li>
<li>A账户创建了权限为766的文件夹<code>adir</code>，该文件夹中有B账户的文件<code>password.txt</code>，权限为B账户的700，请问B账户能否读取到<code>adir/password.txt</code>文件的内容 (★)</li>
<li>ssh软链接后门的原理是什么，可以通过该原理构造其他后门吗?(★)</li>
<li>Linux中fork的原理是什么，子进程一定会拷贝父进程的资源状态吗？(★★)</li>
<li>实现R3层HOOK的方式有哪些，R0层的HOOK又有哪些? (★)</li>
<li>Linux下如何准确实现应用识别，如识别<code>nginx</code> <code>mysql</code>等 (★)</li>
<li>假设某Linux机器存在命令审计(方法未知)，有哪些可能的绕过方法? (★★)</li>
<li>Linux常见的提权方法有哪些?(★★)</li>
<li>僵尸进程和孤儿进程的区别是什么? (★)</li>
</ul>
<h2 id="Windows相关"><a href="#Windows相关" class="headerlink" title="Windows相关"></a>Windows相关</h2><ul>
<li>UAC是如何进行鉴权校验的? BypassUAC的常见方法有哪些? (★★)</li>
<li>SSDT表是什么，如何在系统中找到SSDT表并进行hook? (★)</li>
<li>Windows是如何进行权限控制的，具体的权限校验模型是什么? (★)</li>
</ul>
<h2 id="内网渗透"><a href="#内网渗透" class="headerlink" title="内网渗透"></a>内网渗透</h2><ul>
<li><p>psexec的底层实现原理是什么? (★)</p>
<p>这款工具的初衷是帮助管理员管理大量的机器的，后来被攻击者用来做横向渗透。</p>
<p><a target="_blank" rel="noopener" href="https://tttang.com/archive/1710/#toc_psexec">https://tttang.com/archive/1710/#toc_psexec</a></p>
<p><a target="_blank" rel="noopener" href="https://payloads.online/archivers/2020-04-02/1/">https://payloads.online/archivers/2020-04-02/1/</a></p>
<p><img src="/../images/image-20230601133356646.png" alt="image-20230601133356646"></p>
</li>
<li><p>SSP接口中修复了哪个模块杜绝了mimikatz的恶意利用，具体是如何修复的？(★★)</p>
</li>
<li><p>内网KDC服务器开放在哪个端口，针对kerbores的攻击有哪些? (★★★)</p>
</li>
<li><p>在win10或者winserver2012中，如果需要使用mimikatz，该如何使用，修改注册表后如何在不重启机器的情况下获取NTLM? (★★)</p>
</li>
<li><p>域内如何查询员工对应的机器? (★)</p>
</li>
<li><p>如何查询域之间的信任关系? (★)</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">nltest /domain_trusts /all_trusts /v /server:&lt;域控ip&gt;    //查询信任域</span><br></pre></td></tr></table></figure>

<p><img src="/../images/c7327514d30658e4bc2f76366a1d568d.png" alt="img"></p>
</li>
<li><p>域控开放的常见端口有哪些?(★)</p>
</li>
<li><p>windows内网中ntlm协议认证过程 (★★★)</p>
<p><a target="_blank" rel="noopener" href="https://ares-x.com/2020/03/16/%E5%9F%9F%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%80%EF%BC%89Windows%E8%AE%A4%E8%AF%81%E6%9C%BA%E5%88%B6/">https://ares-x.com/2020/03/16/%E5%9F%9F%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%80%EF%BC%89Windows%E8%AE%A4%E8%AF%81%E6%9C%BA%E5%88%B6/</a></p>
</li>
<li><p>cobalt strike中上线方式有哪些，各自是什么原理，如果需要绕过监控，如何绕? (★★)</p>
</li>
<li><p>横向渗透中，wmic如何构造有回显的命令执行? (★★)</p>
</li>
<li><p>windows应急响应中，需要查看哪些安全日志ID，分别对应哪些攻防场景，如果该windows主机为域控，又应该查看哪些事件日志? (★★★)</p>
</li>
<li><p>golden ticket和sliver ticket的区别是什么? (★★★)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">黄金票据，获取KDC用户（krbtg用户的hash值）就可以伪造任意用户的黄金票据从而实现对域内任意机器的一个访问。</span><br><span class="line"></span><br><span class="line">白银票据，当获取到域内机器用户的hash值就可以伪造一个真正的白银票据。实现对某个机器特定服务的访问。</span><br><span class="line"></span><br><span class="line">他们两个区别就在黄金票据作用更大获得TGT票据后可以访问任意机器任意服务，白银只能指定机器指定服务。</span><br></pre></td></tr></table></figure>
</li>
<li><p>sliver ticket利用的前置条件是什么?(★)</p>
</li>
<li><p>在非域主机的情况下，如何快速发现域主机？ (★★)</p>
</li>
<li><p>mimikatz的原理，哪个补丁导致了mimikatz无法利用，如何绕过? (★★)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">安装了KB2871997补丁或者系统版本大于windows server 2012时，lsass.exe不保存明文密码不保存明文的密码。</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 启用Wdigest Auth，内存中还是会保存系统的明文口令</span><br><span class="line">将下列注册表路径的</span><br><span class="line">HKLM\SYSTEM\CurrentControlSet\Control\SecurityProviders\WDigest</span><br><span class="line">以下项的</span><br><span class="line">UseLogonCredential</span><br><span class="line">值修改成0或1</span><br><span class="line">0：关闭Wdigest Auth</span><br><span class="line">1：启动Wdigest Auth</span><br></pre></td></tr></table></figure>
</li>
<li><p>有没有办法在不重启机器的前提下启用wdigest这个SSPI? (★)</p>
</li>
<li><p>NTLM relay的攻击场景有哪些，使用NTLM relay会受到哪些限制? (★)</p>
</li>
<li><p>windows中如何鉴别用户身份? SID是什么? 基于SID的SID History攻击原理是什么? (★)</p>
</li>
<li><p>假设拿到了某台域机器的权限，但是机器上并没有域账户，应该如何进行域渗透? (★★)</p>
</li>
<li><p>域的初始化配置允许任何域用户登录任意加了域的机器，这是为什么? (★)</p>
</li>
<li><p>如何查询域管登录过的机器，查询原理又是什么? (★)</p>
</li>
</ul>
<h2 id="其他安全相关"><a href="#其他安全相关" class="headerlink" title="其他安全相关"></a>其他安全相关</h2><ul>
<li>RSA加解密流程(★)</li>
<li>HTTPS是如何实现的(★★)</li>
<li>如何防护运营商的DNS劫持&#x2F;链路劫持(★★)</li>
<li>如何防范羊毛党?(★)</li>
<li>一个大范围影响的0day被曝光，作为甲方安全工程师，应该如何处理(★★)</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://Fgtbnc.github.io">Khaz</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://fgtbnc.github.io/2023/05/31/%E9%9D%A2%E7%BB%8F/">http://fgtbnc.github.io/2023/05/31/%E9%9D%A2%E7%BB%8F/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://Fgtbnc.github.io" target="_blank">Khaz's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://fgtbnc.github.io/images/wallhaven-r29l9q.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/05/31/bugku%E5%BA%94%E6%80%A5%E5%93%8D%E5%BA%94/"><img class="prev-cover" src="https://fgtbnc.github.io/images/wallhaven-vg3qk8.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">bugku 应急响应</div></div></a></div><div class="next-post pull-right"><a href="/2023/05/31/2022%E5%AE%89%E6%B4%B5%E6%9D%AF/"><img class="next-cover" src="https://fgtbnc.github.io/images/wallhaven-xlz933.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">2022 安洵杯</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://raw.githubusercontent.com/Khazing/typora-img/main/16870577801892f4a9c5aac2e9e5422a6ccd26db10dd88c73.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Khaz</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">68</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">脚本小子的学习笔记</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95"><span class="toc-number">1.</span> <span class="toc-text">渗透测试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Web%E5%AE%89%E5%85%A8%E7%9B%B8%E5%85%B3"><span class="toc-number">2.</span> <span class="toc-text">Web安全相关</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PHP%E5%AE%89%E5%85%A8"><span class="toc-number">3.</span> <span class="toc-text">PHP安全</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JAVA%E5%AE%89%E5%85%A8"><span class="toc-number">4.</span> <span class="toc-text">JAVA安全</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux%E7%9B%B8%E5%85%B3"><span class="toc-number">5.</span> <span class="toc-text">Linux相关</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Windows%E7%9B%B8%E5%85%B3"><span class="toc-number">6.</span> <span class="toc-text">Windows相关</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F"><span class="toc-number">7.</span> <span class="toc-text">内网渗透</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E5%AE%89%E5%85%A8%E7%9B%B8%E5%85%B3"><span class="toc-number">8.</span> <span class="toc-text">其他安全相关</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/08/03/%E5%B8%B8%E8%A7%81%E7%82%B9%E6%B8%97%E9%80%8F%E6%80%9D%E8%B7%AF%E5%B0%8F%E7%BB%93/" title="Pentest Note"><img src="https://fgtbnc.github.io/images/wallhaven-r29l9q.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Pentest Note"/></a><div class="content"><a class="title" href="/2023/08/03/%E5%B8%B8%E8%A7%81%E7%82%B9%E6%B8%97%E9%80%8F%E6%80%9D%E8%B7%AF%E5%B0%8F%E7%BB%93/" title="Pentest Note">Pentest Note</a><time datetime="2023-08-03T11:48:25.000Z" title="发表于 2023-08-03 19:48:25">2023-08-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/08/03/%E5%B8%B8%E8%A7%81%E5%BA%94%E7%94%A8%E8%AE%B0%E5%BD%95/" title="常见应用记录"><img src="https://fgtbnc.github.io/images/wallhaven-vg3qk8.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="常见应用记录"/></a><div class="content"><a class="title" href="/2023/08/03/%E5%B8%B8%E8%A7%81%E5%BA%94%E7%94%A8%E8%AE%B0%E5%BD%95/" title="常见应用记录">常见应用记录</a><time datetime="2023-08-03T11:46:25.000Z" title="发表于 2023-08-03 19:46:25">2023-08-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/26/Sql%E6%B3%A8%E5%85%A5-Mysql/" title="Sql注入详解--Mysql"><img src="https://fgtbnc.github.io/images/wallhaven-vg3qk8.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Sql注入详解--Mysql"/></a><div class="content"><a class="title" href="/2023/06/26/Sql%E6%B3%A8%E5%85%A5-Mysql/" title="Sql注入详解--Mysql">Sql注入详解--Mysql</a><time datetime="2023-06-26T11:52:40.000Z" title="发表于 2023-06-26 19:52:40">2023-06-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/26/Waf%E7%BB%95%E8%BF%87%E5%AD%A6%E4%B9%A0/" title="WAF绕过学习"><img src="https://fgtbnc.github.io/images/wallhaven-xlz933.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="WAF绕过学习"/></a><div class="content"><a class="title" href="/2023/06/26/Waf%E7%BB%95%E8%BF%87%E5%AD%A6%E4%B9%A0/" title="WAF绕过学习">WAF绕过学习</a><time datetime="2023-06-26T11:50:25.000Z" title="发表于 2023-06-26 19:50:25">2023-06-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/26/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E6%B5%81%E7%A8%8B/" title="渗透测试流程"><img src="https://fgtbnc.github.io/images/wallhaven-vg3qk8.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="渗透测试流程"/></a><div class="content"><a class="title" href="/2023/06/26/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E6%B5%81%E7%A8%8B/" title="渗透测试流程">渗透测试流程</a><time datetime="2023-06-26T11:48:25.000Z" title="发表于 2023-06-26 19:48:25">2023-06-26</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2023 By Khaz</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><script src="/js/chocolate.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>