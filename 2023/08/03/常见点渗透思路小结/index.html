<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Pentest Note | Khaz's Blog</title><meta name="author" content="Khaz"><meta name="copyright" content="Khaz"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="后台 TIP：后台处有多个接口系统，当访问不同的接口系统时发现网站的图标发生了变化。  进入后台前  是否为真实IP  指纹识别打Nday  未授权访问和权限绕过  敏感信息收集 API相关：sourcemap，WebPackJS：HAE，SuperSearchPlus，Urlfinder，手动构造文件&#x2F;目录扫描：备份，后台，多级目录下递归扫描  API接口测试  弱口令  sql注入  逻辑漏洞">
<meta property="og:type" content="article">
<meta property="og:title" content="Pentest Note">
<meta property="og:url" content="http://fgtbnc.github.io/2023/08/03/%E5%B8%B8%E8%A7%81%E7%82%B9%E6%B8%97%E9%80%8F%E6%80%9D%E8%B7%AF%E5%B0%8F%E7%BB%93/index.html">
<meta property="og:site_name" content="Khaz&#39;s Blog">
<meta property="og:description" content="后台 TIP：后台处有多个接口系统，当访问不同的接口系统时发现网站的图标发生了变化。  进入后台前  是否为真实IP  指纹识别打Nday  未授权访问和权限绕过  敏感信息收集 API相关：sourcemap，WebPackJS：HAE，SuperSearchPlus，Urlfinder，手动构造文件&#x2F;目录扫描：备份，后台，多级目录下递归扫描  API接口测试  弱口令  sql注入  逻辑漏洞">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://fgtbnc.github.io/images/wallhaven-xlz933.jpg">
<meta property="article:published_time" content="2023-08-03T11:48:25.000Z">
<meta property="article:modified_time" content="2023-10-29T02:49:58.958Z">
<meta property="article:author" content="Khaz">
<meta property="article:tag" content="渗透思路">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://fgtbnc.github.io/images/wallhaven-xlz933.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://fgtbnc.github.io/2023/08/03/%E5%B8%B8%E8%A7%81%E7%82%B9%E6%B8%97%E9%80%8F%E6%80%9D%E8%B7%AF%E5%B0%8F%E7%BB%93/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":250},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'mediumZoom',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Pentest Note',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-10-29 10:49:58'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom/beauty.css" media="defer" onload="this.media='all'"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://raw.githubusercontent.com/Khazing/typora-img/main/16870577801892f4a9c5aac2e9e5422a6ccd26db10dd88c73.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">88</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">39</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Khaz's Blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">Pentest Note</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-08-03T11:48:25.000Z" title="发表于 2023-08-03 19:48:25">2023-08-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-10-29T02:49:58.958Z" title="更新于 2023-10-29 10:49:58">2023-10-29</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/">渗透测试</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">5.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>18分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Pentest Note"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><article class="post-content" id="article-container"><h1 id="后台"><a href="#后台" class="headerlink" title="后台"></a>后台</h1><blockquote>
<p>TIP：后台处有多个接口系统，当访问不同的接口系统时发现网站的图标发生了变化。</p>
</blockquote>
<p><strong>进入后台前</strong></p>
<ul>
<li><p>是否为真实IP</p>
</li>
<li><p>指纹识别打Nday</p>
</li>
<li><p>未授权访问和权限绕过</p>
</li>
<li><p>敏感信息收集</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">API相关：sourcemap，WebPack</span><br><span class="line">JS：HAE，SuperSearchPlus，Urlfinder，手动构造</span><br><span class="line">文件/目录扫描：备份，后台，多级目录下递归扫描</span><br></pre></td></tr></table></figure>
</li>
<li><p>API接口测试</p>
</li>
<li><p>弱口令</p>
</li>
<li><p>sql注入</p>
</li>
<li><p>逻辑漏洞</p>
<ul>
<li>验证码问题</li>
<li>登录，注册，修改密码问题</li>
</ul>
</li>
<li><p>其他相同站点</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">指纹提取，找到相同站点，理想情况弱口令进入后台，找未授权访问和拿源码审计</span><br></pre></td></tr></table></figure>
</li>
<li><p>旁站</p>
</li>
</ul>
<p><strong>进入后台后</strong></p>
<ul>
<li><p>登录用户权限是否为后台管理员</p>
</li>
<li><p>越权，未授权</p>
</li>
<li><p>sql注入</p>
</li>
<li><p>文件上传</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">头像上传，模板文件修改，插件下载，文件管理器。。。。</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">可以找一下哪里可以修改上传文件的配置，然后允许脚本文件上传</span><br><span class="line">看到一个有意思的文章，就是允许上传的文件后缀保存在数据库中的表中，表名类似于allow*，config*，setting*等，可以通过sql注入找到对应的表添加脚本后缀，然后就可以上传脚本文件了</span><br></pre></td></tr></table></figure>
</li>
<li><p>存储XSS</p>
</li>
<li><p>敏感信息</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">各种配置信息</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="403，404"><a href="#403，404" class="headerlink" title="403，404"></a>403，404</h1><p><strong>逐级目录fuzz</strong></p>
<p>TIP：目录可能为域名的一部分，公司的缩写，api，xxx-api等</p>
<p><strong>403bypass</strong></p>
<ul>
<li><p>Spring，Shiro权限绕过</p>
<p><a target="_blank" rel="noopener" href="https://github.com/0x727/BypassPro">0x727&#x2F;BypassPro: 对权限绕过自动化bypass的burpsuite插件 (github.com)</a></p>
<figure class="highlight http"><table><tr><td class="code"><pre><span class="line">403 /actuator/heapdump</span><br><span class="line">200 /actuator/heapdump;.js</span><br><span class="line"></span><br><span class="line">403 /actuator/httptrace</span><br><span class="line">200 /actuator/httptrace/# (burp抓包改)</span><br></pre></td></tr></table></figure>

<p>还有其他特殊情况</p>
<figure class="highlight http"><table><tr><td class="code"><pre><span class="line">404 /sys/actuator </span><br><span class="line">200 /sys/..;/actuator </span><br><span class="line">200 /sys/;/actuator</span><br></pre></td></tr></table></figure>

<p>很多时候访问actuator，不会显示端点，但是访问具体的端点是可以访问到的，这个时候可以访问mappings端点来查看存在哪些端点</p>
</li>
<li><p>burpfakeIP</p>
<p><img src="/../images/image-20230911095606358.png?lastModify=1695029992" alt="image-20230911095606358"></p>
<p>  <img src="/../images/image-20230911095617521.png?lastModify=1695029992" alt="image-20230911095617521"></p>
</li>
</ul>
<h1 id="弱口令"><a href="#弱口令" class="headerlink" title="弱口令"></a>弱口令</h1><ul>
<li><p>能枚举用户名就先枚举</p>
</li>
<li><p>可以看一下密码的复杂度要求来生成对应字典</p>
</li>
<li><p>图片验证码绕过</p>
<ul>
<li><p>验证码是否失效</p>
</li>
<li><p>burp插件识别</p>
</li>
</ul>
</li>
<li><p>数据包加密</p>
<ul>
<li><p>破解</p>
<p><a target="_blank" rel="noopener" href="https://gv7.me/articles/2018/fast-locate-the-front-end-encryption-method/">快速定位前端加密方法 | 回忆飘如雪</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.wanghw.cn/security/burpcrypto-single-parameter-cryptoblast.html">BurpCrypto: 对单加密参数的登录接口进行密码爆破的一种方法 – Whwlsfb’s Tech Blog</a></p>
</li>
<li><p>输入一些常见的弱口令，收集加密后的值，然后固定密码，爆破用户名</p>
</li>
<li><p>使用selenium模块模拟手动提交绕过</p>
</li>
</ul>
</li>
<li><p>同一个公司的站点的账号和密码用于撞库</p>
</li>
<li><p>社工字典生成</p>
<p>需要先收集一下邮箱，公司名，工号，网站文章的作者名等信息</p>
</li>
<li><p>针对不同行业，存在的用户很多都是不一样的，可以去了解一些行业黑话</p>
</li>
<li><p>如果存在邀请码，可以尝试一些特殊的数字组合</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">666</span><br><span class="line">666666</span><br><span class="line">888</span><br><span class="line">888888</span><br><span class="line">.....</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="API接口"><a href="#API接口" class="headerlink" title="API接口"></a>API接口</h1><blockquote>
<p>TIP：很多API接口文档都藏在二级，三级，四级甚至五级目录下（druid什么的也是），推荐使用burp被动扫描，扫描出来后可以使用工具或者手工进行接口测试</p>
<p>APIkit：不能使用原始请求头，只保留了Cookie，被动扫描不能关闭</p>
<p>Routevulscan：不能控制扫描层数，bypass有点问题</p>
<p>onescan：高度自定义，缺少bypass</p>
<p>我这里选择onescan+自定义bypass字典，然后可以用APIkit来测试接口</p>
</blockquote>
<h2 id="基本流程"><a href="#基本流程" class="headerlink" title="基本流程"></a>基本流程</h2><p><strong>收集接口</strong></p>
<ul>
<li><p>找一找泄漏的接口</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">泄漏的api文档，比如swagger接口文档</span><br><span class="line">目标公司的开发者平台</span><br><span class="line">SourceMap</span><br></pre></td></tr></table></figure>
</li>
<li><p>supersearchplus</p>
</li>
<li><p>urlfinder</p>
</li>
<li><p>HAE被动收集（进行一些操作，比如登录什么的）</p>
</li>
</ul>
<p><strong>收集完后，确定好BaseDir</strong></p>
<p><strong>测试工具</strong></p>
<ul>
<li>ReadyAPI</li>
<li>packerfuzzer</li>
<li>swagger-exp</li>
<li>supersearchplus</li>
<li>联动xray</li>
</ul>
<p><strong>常见测试点</strong></p>
<ul>
<li><p>特定的接口：比如文件上传接口</p>
</li>
<li><p>越权</p>
</li>
<li><p>sql注入</p>
</li>
<li><p>未授权访问</p>
</li>
<li><p>鉴权的数据，如JWT</p>
</li>
<li><p>后端组件漏洞：如fastjson，log4j</p>
</li>
<li><p>响应数据包信息泄漏：敏感信息，组件版本号，参数泄漏</p>
</li>
<li><p>FUZZ</p>
<ul>
<li>通过已知的接口，猜测未知接口，如看到imageUpload可以试试fileUpload</li>
<li>爆破接口参数</li>
<li>目录扫描</li>
</ul>
</li>
</ul>
<h2 id="Swagger接口TIPS"><a href="#Swagger接口TIPS" class="headerlink" title="Swagger接口TIPS"></a>Swagger接口TIPS</h2><ul>
<li><p>swagger-ui界面的xss</p>
<figure class="highlight http"><table><tr><td class="code"><pre><span class="line">swagger-ui/index.html?configUrl=https://jumpy-floor.surge.sh/test.json</span><br><span class="line">swagger-ui.html?configUrl=https://jumpy-floor.surge.sh/test.json</span><br></pre></td></tr></table></figure>
</li>
<li><p>接口文档可能不止一个–<code>swagger-resources</code></p>
<p><img src="/../images/image-20230905205724346.png?lastModify=1695029992" alt="image-20230905205724346"></p>
</li>
<li><p>只有接口文档，没有swagger-ui</p>
<p>将接口文档导入浏览器插件swagger-ui</p>
</li>
<li><p>接口文档内容问题</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">host为内网ip</span><br><span class="line">basePath错误</span><br><span class="line">schemes错误，如网站使用https，接口文档使用http</span><br><span class="line">接口文档没有鉴权的header头</span><br></pre></td></tr></table></figure>

<p>swagger接口文档示例</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;swagger&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;info&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;接口文档标题&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.0.0&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;host&quot;</span><span class="punctuation">:</span> <span class="string">&quot;api.example.com&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;basePath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/v1&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;schemes&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;https&quot;</span><span class="punctuation">,</span></span><br><span class="line">              <span class="string">&quot;http&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;securityDefinitions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> </span><br><span class="line">       <span class="attr">&quot;bearerAuth&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> </span><br><span class="line">           <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;apiKey&quot;</span><span class="punctuation">,</span> </span><br><span class="line">           <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Authorization&quot;</span><span class="punctuation">,</span> # name要看实际的鉴权头</span><br><span class="line">           <span class="attr">&quot;in&quot;</span><span class="punctuation">:</span> <span class="string">&quot;header&quot;</span></span><br><span class="line">       <span class="punctuation">&#125;</span></span><br><span class="line">   <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;security&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;bearerAuth&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span>xxx<span class="punctuation">]</span>  # xxx为鉴权数据</span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;paths&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;/users&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;get&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;summary&quot;</span><span class="punctuation">:</span> <span class="string">&quot;获取用户列表&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;用于获取所有用户的列表信息&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;responses&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;200&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;成功响应&quot;</span></span><br><span class="line">          <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;definitions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;User&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;object&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;properties&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;integer&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;format&quot;</span><span class="punctuation">:</span> <span class="string">&quot;int64&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;string&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>修改完成后，使用swagger-exp测试即可</p>
</li>
</ul>
<h2 id="ReadApi使用"><a href="#ReadApi使用" class="headerlink" title="ReadApi使用"></a>ReadApi使用</h2><p><img src="/../images/image-20230829114309049.png?lastModify=1695029992" alt="image-20230829114309049"></p>
<p>扫描完成后，会生成PDF报告</p>
<p><img src="/../images/image-20230829114529740.png?lastModify=1695029992" alt="image-20230829114529740"></p>
<p><img src="/../images/image-20230829114701973.png?lastModify=1695029992" alt="image-20230829114701973"></p>
<h1 id="存储桶"><a href="#存储桶" class="headerlink" title="存储桶"></a>存储桶</h1><p><img src="/../images/68747470733a2f2f757a6a756d616b646f776e2d313235363139303038322e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f557a4a754d61726b446f776e496d61676525453525423925424225453725383125414625453725383925383732392e7.png" alt="68747470733a2f2f757a6a756d616b646f776e2d313235363139303038322e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f557a4a754d61726b446f776e496d61676525453525423925424225453725383125414625453725383925383732392e7"></p>
<blockquote>
<p>感觉碰到比较多的是遍历，put上传和AKSK泄漏</p>
</blockquote>
<ul>
<li><p>Bucket 爆破：InvalidBucketName</p>
</li>
<li><p>Bucket 接管：NoSuchBucket</p>
<p>类似于子域名接管，只是cname指向的是Bucket</p>
<p><img src="/../images/f8c5eeb73755688f1aaa2701080ea3a6.png?lastModify=1695029992" alt="WeiyiGeek."></p>
<blockquote>
<p>因为域名（源域名）配置了CNAME，但是CNAME指向的域名并没有被注册。那么攻击者可以注册这个CNAME指向的域名，就可以控制了源域名。</p>
<p>因为域名配置了CNAME，但是CNAME指向的Bucket没有被注册（被删除了），那么攻击者可以注册这个CNAME指向的Bucket，从而接管该域名。</p>
<p>参考文章：<a target="_blank" rel="noopener" href="https://kebingzao.com/2021/06/21/s3-subdomain-takeover/">记一次因为 S3 bucket 删除而导致的子域名接管(subdomain takeover)的安全问题 | Zach Ke’s Notes (kebingzao.com)</a></p>
</blockquote>
</li>
<li><p>Bucke遍历</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ossx-main爬取链接</span><br><span class="line">wget批量下载</span><br></pre></td></tr></table></figure>
</li>
<li><p>PUT上传文件</p>
</li>
<li><p>策略可访问&#x2F;修改（&#x2F;?acl）</p>
</li>
</ul>
<p>可以关注一下静态文件是不是<strong>从其他域名引入的</strong>，一般从其他域名引入的就是从存储桶引入的。</p>
<p>还有一种情况是藏在多级目录下，比如<code>/minio/picture/</code></p>
<h1 id="逻辑漏洞–业务安全"><a href="#逻辑漏洞–业务安全" class="headerlink" title="逻辑漏洞–业务安全"></a>逻辑漏洞–业务安全</h1><blockquote>
<p>业务大于安全，安全只是锦上添花罢了。。</p>
</blockquote>
<h2 id="业务梳理–待做"><a href="#业务梳理–待做" class="headerlink" title="业务梳理–待做"></a><strong>业务梳理</strong>–待做</h2><p>可以先将业务主体划分为几个大模块，再将每个大模块逐个细分为子模 块。</p>
<p>可以从账号体系开始，如用户的注册、登录、密码找回、信息存储等。</p>
<p>再到具体的业 务办理，如商品的搜索、选择、支付、生成订单，以及订单查询和用户评论等。</p>
<p><img src="/../images/image-20230713141756097.png?lastModify=1695029992" alt="image-20230713141756097"></p>
<p>​	再根据业务场景梳理出流程图</p>
<p><img src="/../images/image-20230713141918648.png?lastModify=1695029992" alt="image-20230713141918648"></p>
<p><img src="/../images/image-20230713134331110.png?lastModify=1695029992" alt="image-20230713134331110"></p>
<p><strong>测试方法</strong></p>
<p><img src="/../images/image-20230713134200584.png?lastModify=1695029992" alt="image-20230713134200584"></p>
<h2 id="关于访问控制"><a href="#关于访问控制" class="headerlink" title="关于访问控制"></a>关于访问控制</h2><p>用户访问接口→用户是否合法（认证）→用户是否拥有权限（授权：权限控制和角色控制）→ 接口返回数据</p>
<ul>
<li><p>认证</p>
<p>认证就是判断你这个用户是不是合法用户，他是一个过程，可以理解为是一个认证的过程。</p>
</li>
<li><p>授权</p>
<p>授权其实就是你认证成功之后，你的权限能访问系统的那些资源，当我们身份认证通过后需要分配权限决定你可以访问那些资源。</p>
</li>
<li><p>权限控制</p>
<p>权限控制是一种基于用户具有特定权限来限制其对系统资源访问的机制。</p>
<p>每个用户被分配了一组权限，这些权限定义了他们可以执行的操作。</p>
<p>例如，一个用户可能被授予读取、写入或删除文件的权限。当用户尝试访问某个资源时，系统会检查其是否具有足够的权限来执行该操作。如果用户没有所需的权限，则访问将被拒绝。</p>
</li>
<li><p>角色控制</p>
<p>角色控制是一种基于用户具有特定角色来限制其对系统资源访问的机制。</p>
<p>每个角色包含了一组权限，而用户则被分配到不同的角色中。通过将用户与角色相关联，可以灵活地管理用户的权限。</p>
<p>例如，一个管理员角色可能具有更高级别的权限，而普通用户角色则只能执行基本操作。当用户尝试访问某个资源时，系统会检查其所属的角色是否具有足够的权限来执行该操作。如果用户所属角色不具备所需的权限，则访问将被拒绝。</p>
</li>
</ul>
<h2 id="验证码"><a href="#验证码" class="headerlink" title="验证码"></a>验证码</h2><h3 id="短信验证码"><a href="#短信验证码" class="headerlink" title="短信验证码"></a>短信验证码</h3><ul>
<li><p>短信轰炸</p>
<p>绕过方法</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">+86</span><br><span class="line">前后空格</span><br><span class="line">多手机号参数</span><br><span class="line">添加逗号</span><br><span class="line"><span class="built_in">type</span>参数</span><br><span class="line">手机号长度</span><br><span class="line">Fuzz（位置手机号前，后，前后）</span><br></pre></td></tr></table></figure>
</li>
<li><p>暴力破解</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">通常短信验证码有效期为1min，只能爆4位的</span><br></pre></td></tr></table></figure>
</li>
<li><p>暴力生成破解</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">可以进行短信轰炸，但不允许暴力破解（设置了验证次数）</span><br><span class="line">达到验证次数后就重新生成短信验证码，然后再次破解</span><br></pre></td></tr></table></figure>
</li>
<li><p>内容篡改</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Trubo Intruder的%s回显</span><br><span class="line">验证码由客户端发送</span><br></pre></td></tr></table></figure>
</li>
<li><p>短信分发</p>
<blockquote>
<p>一次发送给多个手机号并且收到的验证码是相同的</p>
</blockquote>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">	<span class="attr">&quot;phone&quot;</span><span class="punctuation">:</span><span class="string">&quot;phone1,phone2&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>失效</p>
<ul>
<li><p>后端实际不校验</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">验证码置空，删除，任意值</span><br></pre></td></tr></table></figure>
</li>
<li><p>服务端回显</p>
</li>
<li><p>验证码复用</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">验证码的有效期过长，并且在使用后仍可以再次使用</span><br><span class="line">或者</span><br><span class="line">在一定时间内发送的短信都是相同的</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>绑定关系失效</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">验证码未与手机号进行绑定</span><br><span class="line">最终提交时存在两个手机号参数：一个用于验证短信验证码，一个用于注册/登录，后端没有对这两个参数做一致性校验</span><br></pre></td></tr></table></figure>
</li>
<li><p>短信验证码存在默认值</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">所有手机号均存在默认短信验证码（没碰到过）</span><br><span class="line">或者只有测试手机号存在默认短信验证码（碰到过）</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="图形验证码"><a href="#图形验证码" class="headerlink" title="图形验证码"></a>图形验证码</h3><p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/a03-z_dk21DhbG025aqAeg">盘点图形验证码的漏洞挖掘方式，看完之后你还不会挖吗？</a></p>
<ul>
<li><p>图形验证码识别</p>
<p><a target="_blank" rel="noopener" href="https://github.com/f0ng/captcha-killer-modified/blob/main/FAQ.md">captcha-killer-modified&#x2F;FAQ.md at main · f0ng&#x2F;captcha-killer-modified</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/4geek/p/17145385.html#!comments">【Security】利用Burp Suite爆破带有验证码Web登录接口（保姆级教程） - 为极客而生 - 博客园</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">regex：<span class="string">&quot;token&quot;</span>:<span class="string">&quot;(.*?)&quot;</span></span><br><span class="line">[*]  use @captcha@ replace captcha</span><br><span class="line">[*]  use @captcha-killer-modified@ replace captcha<span class="string">&#x27;s token</span></span><br></pre></td></tr></table></figure>

<p><img src="/../images/image-20230918104832773.png?lastModify=1695029992" alt="image-20230918104832773"></p>
</li>
<li><p>图形验证码复用</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">图形验证码有效时间过长（碰到过一个验证码信息存储在JWT的</span><br><span class="line">里的，通过修改EXP从而验证码复用）</span><br><span class="line"></span><br><span class="line">没有重置图形验证码</span><br><span class="line"></span><br><span class="line">后端实际不校验验证码</span><br></pre></td></tr></table></figure>

</li>
<li><p>图形验证码Dos攻击</p>
<p>通过控制图形验证码的大小</p>
</li>
</ul>
<h2 id="并发–条件竞争"><a href="#并发–条件竞争" class="headerlink" title="并发–条件竞争"></a>并发–条件竞争</h2><p>万物皆可并发</p>
<p><img src="/../images/image-20230826174437969.png?lastModify=1695029992" alt="image-20230826174437969"></p>
<p><strong>修复方案</strong></p>
<p>数据库的事务锁</p>
<h2 id="越权漏洞"><a href="#越权漏洞" class="headerlink" title="越权漏洞"></a>越权漏洞</h2><ul>
<li><p>垂直越权</p>
<p>权限校验不充分，导致低权限用户可以访问高权限用户的接口，比如说随便注册一个账户就能访问各种查询接口</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">如何挖掘：</span><br><span class="line">如果有管理员账号和普通用户账号就比较简单，管理操作，然后替换数据包中的鉴权部分为普通用户的</span><br><span class="line">如果只有普通用户的账号，我觉得主要是如何获得敏感接口，一种是通过被动扫描来找到接口文档，另一种是通过从js文件中手动构造或者fuzz接口的名称</span><br></pre></td></tr></table></figure>

<p>修复方案</p>
<ul>
<li>进行合理的权限划分。</li>
<li>权限最小化原则，限制用户不必要的权限，用户权限过期后应当予以回收。</li>
</ul>
</li>
<li><p>水平越权</p>
<p>普通用户拥有其他平行级别用户的权限，比较常见的就是在获取个人信息处通过遍历id获得其他用户的个人信息</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">最常见的就是通过userid，xxid等参数来进行查询</span><br><span class="line"></span><br><span class="line">最好的话还是注册两个账户进行测试，这样更好发现参数区别</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">越权漏洞和遍历漏洞的区别：</span><br><span class="line">功能点的权限分配不同。越权漏洞产生的功能点是属于特定用户才能使用的，而遍历漏洞产生的功能点是应用本身就需要用到的，只是应用没有做好频率控制和数据拖取限制，导致可以通过遍历某个参数获得大量敏感信息，从而造成危害。</span><br></pre></td></tr></table></figure>

<p>修复方案</p>
<ul>
<li><p>一对一，用户id对应一条数据，比如查看个人信息</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">用户id不应该由用户的传参来决定，应该从session中获取用户id，然后带入数据库中进行查询</span><br></pre></td></tr></table></figure>
</li>
<li><p>一对多，用户id对应多条数据，比如一个用户有多个订单</p>
<p>表结构在设计之初应考虑订单和用户对应的关系</p>
<table>
<thead>
<tr>
<th>order_id</th>
<th>order_no</th>
<th>user_id</th>
<th>total_price</th>
<th>pay_status</th>
<th>pay_type</th>
<th>extra_info</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>15688187285093508</td>
<td>1</td>
<td>2492</td>
<td>1</td>
<td>2</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>15885800076852966</td>
<td>10</td>
<td>2245</td>
<td>1</td>
<td>1</td>
<td></td>
</tr>
</tbody></table>
<p>可以看到存在其中<code>order_no</code>和<code>user_id</code>存在对应关系，所以将<code>orderNo</code>和从session中获取的<code>userId</code>同时查询可解决越权问题。</p>
</li>
</ul>
</li>
</ul>
<h2 id="任意用户密码重置"><a href="#任意用户密码重置" class="headerlink" title="任意用户密码重置"></a>任意用户密码重置</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">session覆盖（session校验身份）</span><br><span class="line">密码重置链接（弱Token:时间戳，uid加密/编码   uid:任意重置其他用户）</span><br><span class="line">绑定关系失效--修改用于校验的手机号/邮箱</span><br><span class="line">验证码问题</span><br></pre></td></tr></table></figure>



<h2 id="业务流程绕过"><a href="#业务流程绕过" class="headerlink" title="业务流程绕过"></a>业务流程绕过</h2><ul>
<li><p>请求提交后由前端进行校验，此时可以拦截返回包，修改返回包中的内容，从而通过校验。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">有时候没啥用，即使能通过校验，但是不会返回token，进入到下一步后后端校验token又返回到上一个流程或者压根没有数据。</span><br></pre></td></tr></table></figure>
</li>
<li><p>先进入后台界面，再弹出校验界面，可以尝试drop掉该校验数据包</p>
<p><a target="_blank" rel="noopener" href="https://www.t00ls.com/articles-70325.html">求助对未授权的“登录过期，请重新登录”站点利用方式 - T00ls.Com</a></p>
</li>
<li><p>多流程跳过</p>
<p>（1）用户输入找回密码的账号； </p>
<p>（2）校验凭证：向用户发送短信验证码或者找回密码链接，用户回填验证码或单击 链接进入密码重置页面，以此方式证明当前操作用户是账号主人； </p>
<p>（3）校验成功进入重置密码页面。</p>
<p>找出最后一步重置密码的接口，接着使用URL测试是否可以跳过验证身份环节。</p>
</li>
</ul>
<h2 id="JWT"><a href="#JWT" class="headerlink" title="JWT"></a>JWT</h2><p><a href="https://fgtbnc.github.io/2023/06/01/JWT%E4%BB%A4%E7%89%8C/">JWT安全 | Khaz (fgtbnc.github.io)</a></p>
<h2 id="支付安全–待测"><a href="#支付安全–待测" class="headerlink" title="支付安全–待测"></a>支付安全–待测</h2><ul>
<li>整型溢出</li>
<li>精度保留</li>
<li>负数</li>
<li>修改支付相关参数</li>
<li>支付接口</li>
</ul>
<h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><p>不知道身份检验的参数</p>
<p><img src="/../images/image-20231029104823296.png" alt="image-20231029104823296"></p>
<p>通过注销登录的返回包中的setcookie可以知道</p>
<p><img src="/../images/image-20231029104920150.png" alt="image-20231029104920150"></p>
<h1 id="微信小程序和公众号"><a href="#微信小程序和公众号" class="headerlink" title="微信小程序和公众号"></a>微信小程序和公众号</h1><blockquote>
<p>这两有的会校验数据包中的User-Agent，所以用一些扫描工具的时候要带上对应的User-Agent才行</p>
<p><img src="/../images/image-20230828114848695.png?lastModify=1695029992" alt="image-20230828114848695"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 公众号</span><br><span class="line">Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36 NetType/WIFI MicroMessenger/7.0.20.1781(0x6700143B) WindowsWechat(0x63090621) XWEB/8287 Flue</span><br><span class="line"></span><br><span class="line"># 小程序</span><br><span class="line">Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36 MicroMessenger/7.0.20.1781(0x6700143B) NetType/WIFI MiniProgramEnv/Windows WindowsWechat/WMPF XWEB/8287</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="小程序接口→Web后台"><a href="#小程序接口→Web后台" class="headerlink" title="小程序接口→Web后台"></a>小程序接口→Web后台</h2><blockquote>
<p>开发者为了方便管理和调试，会在公网 Api 后端服务器上搭建一个后台管理界面从而方便管理数据</p>
</blockquote>
<p>把小程序抓包时的url复制到浏览器中，寻找后台（蛮多的🤗）</p>
<p>比如</p>
<p><img src="/../images/image-20230917224011775.png?lastModify=1695029992" alt="image-20230917224011775"></p>
<p>就这个后台出了三个高危，弱口令，任意文件上传，存储型xss</p>
<h2 id="小程序本身"><a href="#小程序本身" class="headerlink" title="小程序本身"></a>小程序本身</h2><h3 id="小程序结构"><a href="#小程序结构" class="headerlink" title="小程序结构"></a>小程序结构</h3><p><a target="_blank" rel="noopener" href="https://kangzubin.com/wxapp-decompile-2/">微信小程序“反编译”实战（二）：源码还原 | 彬彬的博客 (kangzubin.com)</a></p>
<h3 id="抓包"><a href="#抓包" class="headerlink" title="抓包"></a>抓包</h3><p>PC：proxifier+burp</p>
<p>Android：同一个局域网下，wifi代理+burp</p>
<h3 id="反编译"><a href="#反编译" class="headerlink" title="反编译"></a>反编译</h3><p>一键解密+反编译工具</p>
<p><a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1N3ZR3djSaS8g_RXc0Hsa5Q?login_type=qzone&amp;pwd=f79y&amp;_at_=1693833286263">https://pan.baidu.com/s/1N3ZR3djSaS8g_RXc0Hsa5Q?login_type=qzone&amp;pwd=f79y&amp;_at_=1693833286263</a></p>
<p><strong>注意点：进入小程序后，先把各种功能点点，加载更多的程序之后再进行反编译</strong></p>
<p>小程序打开时</p>
<p><img src="/../images/image-20230904221313214.png?lastModify=1695029992" alt="image-20230904221313214"></p>
<p>打开点点点之后，点了一部分后就多了3MB</p>
<p><img src="/../images/image-20230904221135890.png?lastModify=1695029992" alt="image-20230904221135890"></p>
<ul>
<li><p>PC</p>
<p>需要先解密，再反编译，小程序文件位置如下</p>
<p><img src="/../images/image-20230730143531751.png?lastModify=1695029992" alt="image-20230730143531751"></p>
</li>
<li><p>Android</p>
<p>直接反编译即可</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/data/data/com.tencent.mm/MicroMsg/df69765be7b6e4a441a86a25d26e861f/appbrand/pkg/_-1486048203_3.wxapkg</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="关注点"><a href="#关注点" class="headerlink" title="关注点"></a>关注点</h3><p><img src="/../images/%E5%B0%8F%E7%A8%8B%E5%BA%8FWEB%E6%BC%8F%E6%B4%9E_resultat.png?lastModify=1695029992" alt="image-20200508220108393"></p>
<h3 id="sessionkey泄漏"><a href="#sessionkey泄漏" class="headerlink" title="sessionkey泄漏"></a>sessionkey泄漏</h3><p><img src="/../images/image-20230919105141460.png" alt="image-20230919105141460"></p>
<p>解密</p>
<p><strong><img src="/../images/image-20230919102958607.png" alt="image-20230919102958607"></strong></p>
<h3 id="反编译调试"><a href="#反编译调试" class="headerlink" title="反编译调试"></a>反编译调试</h3><p><strong>报错修复</strong></p>
<p><img src="/../images/image-20230904215939364.png?lastModify=1695029992" alt="image-20230904215939364"></p>
<p><img src="/../images/image-20230904215953140.png?lastModify=1695029992" alt="image-20230904215953140"></p>
<p>wxml文件（样式文件）报错修复：直接删除</p>
<p>插件修复：遇到不需要使用的插件直接删除，要用到的插件去官方后台添加</p>
<h5 id="流量加密调试"><a href="#流量加密调试" class="headerlink" title="流量加密调试"></a>流量加密调试</h5><h5 id="签名绕过调试"><a href="#签名绕过调试" class="headerlink" title="签名绕过调试"></a>签名绕过调试</h5><h2 id="公众号"><a href="#公众号" class="headerlink" title="公众号"></a>公众号</h2><p>跟web思路一样，注意UA头即可</p>
<h2 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h2><p><a target="_blank" rel="noopener" href="https://www.hackinn.com/index.php/archives/672/">微信小程序的渗透五脉 - Hack Inn</a></p>
<p><a target="_blank" rel="noopener" href="https://forum.butian.net/share/1227">奇安信攻防社区-浅谈微信小程序渗透</a></p>
<p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/community/minihome/list/1591986099080445956/2">安全中心公告 | 微信开放社区</a>	</p>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/KfhgP97alL_d8mmOY4z44w">反编译&amp;调试小程序请求签名 (qq.com)</a></p>
<h1 id="小技巧"><a href="#小技巧" class="headerlink" title="小技巧"></a>小技巧</h1><h2 id="Linux命令"><a href="#Linux命令" class="headerlink" title="Linux命令"></a>Linux命令</h2><blockquote>
<p>Winodws下可以装个wls2</p>
<p>尴尬点😅</p>
<p>wsl2需要开启hyper-V，但是安卓模拟器又要关闭hyper-v，而且VM15.5以下的版本也需要关闭hyper-V。</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 关闭hyper-V后重新开启wsl</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 开启hyper-V</span></span><br><span class="line">dism.exe /Online /<span class="built_in">Enable-Feature</span> /All /FeatureName:Microsoft<span class="literal">-Hyper-V</span></span><br><span class="line"><span class="comment"># 开启wsl支持</span></span><br><span class="line"><span class="built_in">Enable-WindowsOptionalFeature</span> <span class="literal">-Online</span> <span class="literal">-FeatureName</span> Microsoft<span class="literal">-Windows-Subsystem-Linux</span></span><br></pre></td></tr></table></figure>
</blockquote>
<ul>
<li><p>图标哈希指纹提取</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">curl https://hunter.qianxin.com/favicon.ico | md5sum</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">hunter</span></span><br><span class="line">web.icon=&quot;md5&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">360</span></span><br><span class="line">favicon:&quot;MD5&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>敏感信息查找</p>
<p>整合成sh脚本，一键提取</p>
<ul>
<li><p>提取Nginx日志文件中的200</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">grep -EHirn <span class="string">&quot;HTTP/1.1\&quot; 200&quot;</span> wxtest.zyxt.com.cn  | <span class="built_in">cut</span> -d <span class="string">&#x27;:&#x27;</span> -f 2- &gt; 200.txt</span><br></pre></td></tr></table></figure>
</li>
<li><p>提取url</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">grep -EHirn &quot;http://|https://&quot; 200.txt  | cut -d &#x27;:&#x27; -f 2- &gt; url.txt</span><br></pre></td></tr></table></figure>
</li>
<li><p>提取账密</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">grep -EHirn <span class="string">&quot;username|password|密码|passwd|pass|testuser|user|pwd|dbuser|token|jdbc|admin|login&quot;</span> 200.txt  | <span class="built_in">cut</span> -d <span class="string">&#x27;:&#x27;</span> -f 2- &gt; pass.txt</span><br></pre></td></tr></table></figure>
</li>
<li><p>提取各种key</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">grep -EHirn <span class="string">&quot;ak|密钥|accesskey|apikey|key|secret|corpid|corpsecret|cloud|oss&quot;</span> 200.txt | <span class="built_in">cut</span> -d <span class="string">&#x27;:&#x27;</span> -f 2- &gt; key.txt</span><br></pre></td></tr></table></figure>
</li>
<li><p>提取文件下载</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">grep -EHirn <span class="string">&quot;\?file|download|attachment&quot;</span>  | <span class="built_in">cut</span> -d <span class="string">&#x27;:&#x27;</span> -f 2- &gt; FileDownload.txt</span><br></pre></td></tr></table></figure>
</li>
<li><p>提取个人敏感信息</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">grep -EHirn <span class="string">&quot;phone|mobile|card|real_name|\.png|\.jpg|\.mp4&quot;</span>  | <span class="built_in">cut</span> -d <span class="string">&#x27;:&#x27;</span> -f 2- &gt; LeakInfo.txt</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>文件下载</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">目录遍历漏洞，目录名默认为host</span></span><br><span class="line">wget -r --no-pare  url /mnt/c/Users/khaz/Downloads</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">批量下载,比如存储桶遍历</span></span><br><span class="line">wget -i urls.txt -P Download/</span><br></pre></td></tr></table></figure>
</li>
<li><p>文本类</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sort filename | uniq # 排序+去重</span><br><span class="line">cat file1.txt file2.txt fileN.txt &gt; out.txt # 文本合并</span><br></pre></td></tr></table></figure>
</li>
<li><p>javaweb查找数据库配置文件</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">find 路径 -type f |xargs grep &quot;com.mysql.jdbc.Driver&quot;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="FUZZ"><a href="#FUZZ" class="headerlink" title="FUZZ"></a>FUZZ</h2><ul>
<li><p>参数值</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">置空</span><br><span class="line">删除</span><br><span class="line">Null</span><br><span class="line">None</span><br><span class="line">%  模糊查询，可能直接全部查出来了</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="请求包转换为python请求"><a href="#请求包转换为python请求" class="headerlink" title="请求包转换为python请求"></a>请求包转换为python请求</h2><p>burp：copy as curl commad</p>
<p><a target="_blank" rel="noopener" href="https://curlconverter.com/">Convert curl commands to code</a></p>
<p><img src="/../images/image-20230827111636995.png" alt="image-20230827111636995"></p>
<h2 id="文件，目录扫描"><a href="#文件，目录扫描" class="headerlink" title="文件，目录扫描"></a>文件，目录扫描</h2><p>域名的一部分，公司名称的缩写，目录名（目录为&#x2F;cn，备份文件为&#x2F;cn&#x2F;cn.rar）</p>
<p><img src="/../images/image-20230929160024798.png" alt="image-20230929160024798"></p>
<h1 id="搜索引擎语法"><a href="#搜索引擎语法" class="headerlink" title="搜索引擎语法"></a>搜索引擎语法</h1><h2 id="Google"><a href="#Google" class="headerlink" title="Google"></a>Google</h2><p><a target="_blank" rel="noopener" href="https://www.yuque.com/pmiaowu/xpl680/nmnt7i#60ed379e">Google语法之信息收集之道 (yuque.com)</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 逻辑运算符</span></span><br><span class="line">OR AND</span><br><span class="line"></span><br><span class="line"><span class="comment"># 公开文件</span></span><br><span class="line">site:domain ext:doc | ext:docx | ext:odt | ext:pdf | ext:rtf | ext:sxw | ext:psw | ext:ppt | ext:pptx | ext:pps | ext:csv</span><br><span class="line"></span><br><span class="line"><span class="comment"># 后台</span></span><br><span class="line">intitle:管理|后台|登陆|平台|系统 or inurl:login|admin|manage|manager|admin_login|system</span><br><span class="line"></span><br><span class="line"><span class="comment"># 必须出现xxx</span></span><br><span class="line"><span class="string">&quot;xxx&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 搜索网站正文内容</span></span><br><span class="line">intext:xxx</span><br><span class="line"></span><br><span class="line"><span class="comment"># 搜索缓存内容</span></span><br><span class="line">cache:</span><br><span class="line"></span><br><span class="line"><span class="comment"># 搜索url</span></span><br><span class="line">inurl:</span><br><span class="line"></span><br><span class="line"><span class="comment"># 过滤内容</span></span><br><span class="line">-xxx</span><br></pre></td></tr></table></figure>

<h2 id="空间搜索引擎"><a href="#空间搜索引擎" class="headerlink" title="空间搜索引擎"></a>空间搜索引擎</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">title=<span class="string">&quot;Directory listing for /&quot;</span></span><br><span class="line">title=<span class="string">&quot;index of/&quot;</span></span><br><span class="line">title=<span class="string">&quot;phpinfo&quot;</span></span><br><span class="line">tile=<span class="string">&quot;outlook&quot;</span> / <span class="string">&quot;tomcat&quot;</span> / <span class="string">&quot;weblogic&quot;</span>  <span class="comment"># 查找特定应用</span></span><br><span class="line">(title=<span class="string">&quot;平台&quot;</span>||title=<span class="string">&quot;管理&quot;</span>||title=<span class="string">&quot;系统&quot;</span>||title=<span class="string">&quot;后台&quot;</span>||title=<span class="string">&quot;登录&quot;</span>)</span><br><span class="line"></span><br><span class="line">server=<span class="string">&quot;WebSockify Python&quot;</span> &amp;&amp; title=<span class="string">&quot;Directory listing for /&quot;</span>  <span class="comment"># 查找novnc（novnc运行在容器里）</span></span><br><span class="line">header=xxx <span class="comment"># 请求头  感觉hunter的多</span></span><br></pre></td></tr></table></figure>

<p><strong>Hunter</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">(icp.name=<span class="string">&quot;银行&quot;</span>||icp.name=<span class="string">&quot;信用合作联社&quot;</span>||icp.name=<span class="string">&quot;信用社联合社&quot;</span>)</span><br><span class="line"></span><br><span class="line">(icp.name=<span class="string">&quot;信托有限&quot;</span>||icp.name=<span class="string">&quot;财务有限&quot;</span>||icp.name=<span class="string">&quot;理财有限&quot;</span>)</span><br><span class="line"></span><br><span class="line">(icp.name=<span class="string">&quot;天然气集团&quot;</span>||icp.name=<span class="string">&quot;核工业集团&quot;</span>||icp.name=<span class="string">&quot;国家电网&quot;</span>||icp.name=<span class="string">&quot;石油化工&quot;</span>||icp.name=<span class="string">&quot;能源集团&quot;</span>)</span><br><span class="line"></span><br><span class="line">app.name==<span class="string">&quot;Vue.js&quot;</span>&amp;&amp;(icp.name=<span class="string">&quot;银行&quot;</span>)&amp;&amp;(title=<span class="string">&quot;平台&quot;</span>||title=<span class="string">&quot;管理&quot;</span>||title=<span class="string">&quot;系统&quot;</span>||title=<span class="string">&quot;后台&quot;</span>||title=<span class="string">&quot;登录&quot;</span>)</span><br><span class="line"></span><br><span class="line">icp.industry=<span class="string">&quot;货币金融服务&quot;</span></span><br><span class="line"></span><br><span class="line">ip.province=<span class="string">&quot;江苏&quot;</span>	搜索IP对应主机在江苏省的资产</span><br><span class="line">ip.country=<span class="string">&quot;CN&quot;</span>      中国资产（空间搜索引擎搜到的国外的都是bc，狠狠地污染）</span><br></pre></td></tr></table></figure>

<p><strong>Fofa</strong></p>
<p><a target="_blank" rel="noopener" href="https://fofa.info/library">https://fofa.info/library</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/ibaiw/fofa">Fofa网络测绘命令汇总</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cert=英文缩写   <span class="comment"># 证书内容</span></span><br><span class="line">cert.subject=英文缩写 <span class="comment"># 证书持有者</span></span><br><span class="line">cert.issuer=英文缩写 <span class="comment"># 证书颁发者</span></span><br><span class="line"></span><br><span class="line">org=<span class="string">&quot;China Education and Research Network Center&quot;</span> <span class="comment">#教育网段</span></span><br></pre></td></tr></table></figure>

<p><strong>零零信安</strong></p>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%B8%97%E9%80%8F%E6%80%9D%E8%B7%AF/">渗透思路</a></div><div class="post_share"><div class="social-share" data-image="https://fgtbnc.github.io/images/wallhaven-xlz933.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/10/05/Web%E5%AE%89%E5%85%A8%E4%B9%8BJSONP%E4%B8%8ECORS/"><img class="prev-cover" src="https://fgtbnc.github.io/images/wallhaven-j8lqmp.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">JSONP与CORS</div></div></a></div><div class="next-post pull-right"><a href="/2023/08/03/%E5%B8%B8%E8%A7%81%E5%BA%94%E7%94%A8%E8%AE%B0%E5%BD%95/"><img class="next-cover" src="https://fgtbnc.github.io/images/wallhaven-vg3qk8.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">渗透中常见应用记录</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/08/03/%E5%B8%B8%E8%A7%81%E5%BA%94%E7%94%A8%E8%AE%B0%E5%BD%95/" title="渗透中常见应用记录"><img class="cover" src="https://fgtbnc.github.io/images/wallhaven-vg3qk8.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-03</div><div class="title">渗透中常见应用记录</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://raw.githubusercontent.com/Khazing/typora-img/main/16870577801892f4a9c5aac2e9e5422a6ccd26db10dd88c73.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Khaz</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">88</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">39</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%90%8E%E5%8F%B0"><span class="toc-number">1.</span> <span class="toc-text">后台</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#403%EF%BC%8C404"><span class="toc-number">2.</span> <span class="toc-text">403，404</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BC%B1%E5%8F%A3%E4%BB%A4"><span class="toc-number">3.</span> <span class="toc-text">弱口令</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#API%E6%8E%A5%E5%8F%A3"><span class="toc-number">4.</span> <span class="toc-text">API接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%B5%81%E7%A8%8B"><span class="toc-number">4.1.</span> <span class="toc-text">基本流程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Swagger%E6%8E%A5%E5%8F%A3TIPS"><span class="toc-number">4.2.</span> <span class="toc-text">Swagger接口TIPS</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ReadApi%E4%BD%BF%E7%94%A8"><span class="toc-number">4.3.</span> <span class="toc-text">ReadApi使用</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E6%A1%B6"><span class="toc-number">5.</span> <span class="toc-text">存储桶</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E6%BC%8F%E6%B4%9E%E2%80%93%E4%B8%9A%E5%8A%A1%E5%AE%89%E5%85%A8"><span class="toc-number">6.</span> <span class="toc-text">逻辑漏洞–业务安全</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%9A%E5%8A%A1%E6%A2%B3%E7%90%86%E2%80%93%E5%BE%85%E5%81%9A"><span class="toc-number">6.1.</span> <span class="toc-text">业务梳理–待做</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6"><span class="toc-number">6.2.</span> <span class="toc-text">关于访问控制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%AA%8C%E8%AF%81%E7%A0%81"><span class="toc-number">6.3.</span> <span class="toc-text">验证码</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9F%AD%E4%BF%A1%E9%AA%8C%E8%AF%81%E7%A0%81"><span class="toc-number">6.3.1.</span> <span class="toc-text">短信验证码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E9%AA%8C%E8%AF%81%E7%A0%81"><span class="toc-number">6.3.2.</span> <span class="toc-text">图形验证码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91%E2%80%93%E6%9D%A1%E4%BB%B6%E7%AB%9E%E4%BA%89"><span class="toc-number">6.4.</span> <span class="toc-text">并发–条件竞争</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B6%8A%E6%9D%83%E6%BC%8F%E6%B4%9E"><span class="toc-number">6.5.</span> <span class="toc-text">越权漏洞</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%BB%E6%84%8F%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81%E9%87%8D%E7%BD%AE"><span class="toc-number">6.6.</span> <span class="toc-text">任意用户密码重置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%9A%E5%8A%A1%E6%B5%81%E7%A8%8B%E7%BB%95%E8%BF%87"><span class="toc-number">6.7.</span> <span class="toc-text">业务流程绕过</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JWT"><span class="toc-number">6.8.</span> <span class="toc-text">JWT</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%94%AF%E4%BB%98%E5%AE%89%E5%85%A8%E2%80%93%E5%BE%85%E6%B5%8B"><span class="toc-number">6.9.</span> <span class="toc-text">支付安全–待测</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Tips"><span class="toc-number">6.10.</span> <span class="toc-text">Tips</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%92%8C%E5%85%AC%E4%BC%97%E5%8F%B7"><span class="toc-number">7.</span> <span class="toc-text">微信小程序和公众号</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%8E%A5%E5%8F%A3%E2%86%92Web%E5%90%8E%E5%8F%B0"><span class="toc-number">7.1.</span> <span class="toc-text">小程序接口→Web后台</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%9C%AC%E8%BA%AB"><span class="toc-number">7.2.</span> <span class="toc-text">小程序本身</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%BB%93%E6%9E%84"><span class="toc-number">7.2.1.</span> <span class="toc-text">小程序结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%93%E5%8C%85"><span class="toc-number">7.2.2.</span> <span class="toc-text">抓包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8D%E7%BC%96%E8%AF%91"><span class="toc-number">7.2.3.</span> <span class="toc-text">反编译</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E6%B3%A8%E7%82%B9"><span class="toc-number">7.2.4.</span> <span class="toc-text">关注点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sessionkey%E6%B3%84%E6%BC%8F"><span class="toc-number">7.2.5.</span> <span class="toc-text">sessionkey泄漏</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8D%E7%BC%96%E8%AF%91%E8%B0%83%E8%AF%95"><span class="toc-number">7.2.6.</span> <span class="toc-text">反编译调试</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B5%81%E9%87%8F%E5%8A%A0%E5%AF%86%E8%B0%83%E8%AF%95"><span class="toc-number">7.2.6.0.1.</span> <span class="toc-text">流量加密调试</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AD%BE%E5%90%8D%E7%BB%95%E8%BF%87%E8%B0%83%E8%AF%95"><span class="toc-number">7.2.6.0.2.</span> <span class="toc-text">签名绕过调试</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AC%E4%BC%97%E5%8F%B7"><span class="toc-number">7.3.</span> <span class="toc-text">公众号</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E6%96%87%E7%AB%A0"><span class="toc-number">7.4.</span> <span class="toc-text">参考文章</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B0%8F%E6%8A%80%E5%B7%A7"><span class="toc-number">8.</span> <span class="toc-text">小技巧</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux%E5%91%BD%E4%BB%A4"><span class="toc-number">8.1.</span> <span class="toc-text">Linux命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#FUZZ"><span class="toc-number">8.2.</span> <span class="toc-text">FUZZ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E5%8C%85%E8%BD%AC%E6%8D%A2%E4%B8%BApython%E8%AF%B7%E6%B1%82"><span class="toc-number">8.3.</span> <span class="toc-text">请求包转换为python请求</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%EF%BC%8C%E7%9B%AE%E5%BD%95%E6%89%AB%E6%8F%8F"><span class="toc-number">8.4.</span> <span class="toc-text">文件，目录扫描</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E8%AF%AD%E6%B3%95"><span class="toc-number">9.</span> <span class="toc-text">搜索引擎语法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Google"><span class="toc-number">9.1.</span> <span class="toc-text">Google</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A9%BA%E9%97%B4%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E"><span class="toc-number">9.2.</span> <span class="toc-text">空间搜索引擎</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/10/29/Java%E4%BB%A3%E5%AE%A1--%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C/" title="Java代码审计--命令执行"><img src="https://fgtbnc.github.io/images/wallhaven-r29l9q.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java代码审计--命令执行"/></a><div class="content"><a class="title" href="/2023/10/29/Java%E4%BB%A3%E5%AE%A1--%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C/" title="Java代码审计--命令执行">Java代码审计--命令执行</a><time datetime="2023-10-29T07:00:25.000Z" title="发表于 2023-10-29 15:00:25">2023-10-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/10/29/java%E4%BB%A3%E5%AE%A1--SSRF/" title="Java代码审计--SSRF"><img src="https://fgtbnc.github.io/images/wallhaven-wyg7g6.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java代码审计--SSRF"/></a><div class="content"><a class="title" href="/2023/10/29/java%E4%BB%A3%E5%AE%A1--SSRF/" title="Java代码审计--SSRF">Java代码审计--SSRF</a><time datetime="2023-10-29T07:00:25.000Z" title="发表于 2023-10-29 15:00:25">2023-10-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/10/28/Java-Thymeleaf%E6%A8%A1%E6%9D%BF%E6%B3%A8%E5%85%A5/" title="Thymeleaf 模板注入"><img src="https://fgtbnc.github.io/images/wallhaven-vg3qk8.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Thymeleaf 模板注入"/></a><div class="content"><a class="title" href="/2023/10/28/Java-Thymeleaf%E6%A8%A1%E6%9D%BF%E6%B3%A8%E5%85%A5/" title="Thymeleaf 模板注入">Thymeleaf 模板注入</a><time datetime="2023-10-28T07:00:25.000Z" title="发表于 2023-10-28 15:00:25">2023-10-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/10/28/Java-sec-code%E5%AD%A6%E4%B9%A0/" title="Java-sec-code学习"><img src="https://fgtbnc.github.io/images/wallhaven-xl8gq3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java-sec-code学习"/></a><div class="content"><a class="title" href="/2023/10/28/Java-sec-code%E5%AD%A6%E4%B9%A0/" title="Java-sec-code学习">Java-sec-code学习</a><time datetime="2023-10-28T07:00:25.000Z" title="发表于 2023-10-28 15:00:25">2023-10-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/10/21/Java%E4%BB%A3%E5%AE%A1--Sql%E6%B3%A8%E5%85%A5/" title="Java代码审计--Sql注入"><img src="https://fgtbnc.github.io/images/wallhaven-vg3qk8.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java代码审计--Sql注入"/></a><div class="content"><a class="title" href="/2023/10/21/Java%E4%BB%A3%E5%AE%A1--Sql%E6%B3%A8%E5%85%A5/" title="Java代码审计--Sql注入">Java代码审计--Sql注入</a><time datetime="2023-10-21T07:00:25.000Z" title="发表于 2023-10-21 15:00:25">2023-10-21</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2023 By Khaz</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><script src="/js/chocolate.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>